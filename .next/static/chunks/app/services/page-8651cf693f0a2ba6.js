(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{366:(e,t,s)=>{Promise.resolve().then(s.bind(s,2604))},2316:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7401).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},3473:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6764:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7401).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},9993:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7401).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},2604:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(5155),l=s(2115),a=s(1310),i=s(3068),c=s(2508),d=s(3473),n=s(6764),o=s(9993),h=s(2316),x=s(5565),m=s(4367);let u=()=>{let[e,t]=(0,l.useState)([]),[s,u]=(0,l.useState)(!1),[p,b]=(0,l.useState)(null),[g,j]=(0,l.useState)(null),[v,y]=(0,l.useState)(1),[f]=(0,l.useState)(5),[w,N]=(0,l.useState)({title:"",description:"",service_icon:"",slug:""}),[_,k]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,a.m8)();console.log(e,"Chooseus"),t(e.data)}catch(e){console.error("Error fetching Service card:",e)}})()},[]);let A=e=>{j(e),b("delete"),u(!0)},C=e=>{j(e),b("edit"),N({title:e.title,service_icon:e.service_icon,slug:e.slug,description:e.description}),k(e.service_icon),u(!0)},S=async()=>{if("delete"===p&&g)await (0,a.e8)(g._id),t(e=>e.filter(e=>e._id!==g._id)),t((await (0,a.m8)()).data);else if("edit"===p&&g){let e={title:w.title,description:w.description,slug:w.slug},s=(0,a.i$)(g._id,e),r=Promise.resolve();if(w.service_icon){let e=new FormData;e.append("service_icon",w.service_icon),r=(0,a.fw)(g._id,e)}await Promise.all([s,r]),t((await (0,a.m8)()).data)}else if("create"===p&&w.title&&w.description&&w.slug&&w.service_icon){let e=new FormData;e.append("title",w.title),e.append("description",w.description),e.append("service_icon",w.service_icon),e.append("slug",w.slug),await (0,a.tU)(e),t((await (0,a.m8)()).data)}u(!1)},E=Math.ceil(e.length/f),M=e.slice((v-1)*f,v*f);return(0,r.jsx)("div",{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 justify-between mb-6",children:[(0,r.jsx)("h2",{className:"lg:text-xl font-bold text-gray-800",children:"Services"}),(0,r.jsxs)("button",{onClick:()=>{b("create"),j(null),N({title:"",description:"",service_icon:"",slug:""}),k(null),u(!0)},className:"flex whitespace-nowrap items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-blue-500 hover:bg-blue-600 text-white shadow-md transition-all duration-200 border border-blue-600",children:["Create Service",(0,r.jsx)(d.A,{className:"w-4 h-4"})]})]}),(0,r.jsxs)(c.XI,{className:"table-auto w-full border border-gray-200 rounded-md overflow-hidden shadow-md",children:[(0,r.jsx)(c.A0,{children:(0,r.jsx)(c.Hj,{className:"bg-gray-100",children:["SNO","Title","Description","Icon","Edit","Delete"].map((e,t)=>(0,r.jsx)(c.nd,{className:"px-4 py-3 font-semibold text-center text-gray-700 border-b border-gray-300",children:e},t))})}),(0,r.jsx)(c.BF,{children:M.map((e,t)=>(0,r.jsxs)(c.Hj,{className:"text-gray-700 hover:bg-gray-50 ".concat(t%2==0?"bg-white":"bg-gray-50"),children:[(0,r.jsx)(c.nA,{className:"px-4 py-3 text-center border-b border-gray-200",children:t+1}),(0,r.jsx)(c.nA,{className:"px-4 py-3 text-center r whitespace-nowrap border-b border-gray-200",children:e.title}),(0,r.jsx)(c.nA,{className:"px-4 py-3 text-center whitespace-nowrap border-b border-gray-200",children:e.description}),(0,r.jsx)(c.nA,{className:"px-4 py-3 text-center border-b border-gray-200",children:(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(x.default,{src:e.service_icon,alt:e.title,width:50,height:50,className:"rounded-md shadow-sm"})})}),(0,r.jsx)(c.nA,{className:"px-4 py-3 text-center border-b border-gray-200",children:(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(n.A,{onClick:()=>C(e),className:"cursor-pointer text-blue-500 hover:text-blue-600"})})}),(0,r.jsx)(c.nA,{className:"px-4 py-3 text-center border-b border-gray-200",children:(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(o.A,{onClick:()=>A(e),className:"cursor-pointer text-red-500 hover:text-red-600"})})})]},e._id))})]}),e.length>f&&(0,r.jsxs)("div",{className:"flex justify-center gap-4 items-center mt-4",children:[(0,r.jsx)("button",{onClick:()=>{v>1&&y(v-1)},disabled:1===v,className:"p-2 text-sm rounded ".concat(1===v?"bg-gray-300":"bg-blue-500 hover:bg-blue-600"," text-white"),children:(0,r.jsx)(m.m6W,{})}),(0,r.jsxs)("p",{className:"text-sm",children:["Page ",v," of ",E]}),(0,r.jsx)("button",{onClick:()=>{v<E&&y(v+1)},disabled:v===E,className:"p-2 text-sm rounded ".concat(v===E?"bg-gray-300":"bg-blue-500 hover:bg-blue-600"," text-white"),children:(0,r.jsx)(m.OQo,{})})]})]}),(0,r.jsx)(i.Lt,{open:s,onOpenChange:u,children:(0,r.jsxs)(i.EO,{className:"max-w-sm rounded-lg  ".concat("delete"!==p?"h-[400px]":"","  overflow-x-scroll"),children:[(0,r.jsxs)(i.wd,{children:[(0,r.jsx)(i.r7,{className:"text-center -mb-2",children:"delete"===p?"Are you absolutely sure?":"edit"===p?"Edit Service":"Create a New Service"}),(0,r.jsx)(i.$v,{className:"text-center",children:"delete"===p?"This action cannot be undone. This will permanently delete your item.":"edit"===p?"You can edit the details of the selected item.":"You can create a new Service."})]}),(0,r.jsx)("div",{children:"delete"===p?(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{children:"Are you sure you want to delete this item?"})}):(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"title",className:"font-semibold text-sm",children:"Title"}),(0,r.jsx)("input",{type:"text",value:w.title,onChange:e=>N({...w,title:e.target.value}),className:"w-full rounded-full px-6 py-2 mb-2 placeholder:text-sm border border-gray-300 ",placeholder:"Enter title"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"description",className:"font-semibold text-sm",children:"Description"}),(0,r.jsx)("textarea",{rows:5,value:w.description,onChange:e=>N({...w,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Enter description"})]}),(0,r.jsx)("h3",{className:"font-semibold text-sm",children:"Service Icon"}),(0,r.jsxs)("label",{htmlFor:"choose_icon",className:"text-gray-700 cursor-pointer border-dashed border flex justify-center gap-2 p-3 rounded-md",children:[(0,r.jsx)(h.A,{})," ",_?"Change Image":"Select Banner Image"]}),(0,r.jsx)("input",{id:"choose_icon",name:"choose_icon",type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&(k(URL.createObjectURL(s)),N(e=>({...e,service_icon:s})))},className:"hidden"}),_&&(0,r.jsx)("div",{className:"border flex justify-center",children:(0,r.jsx)(x.default,{src:_,alt:"Image Preview",width:200,height:200,className:"rounded-md shadow-sm"})})]})}),(0,r.jsxs)(i.ck,{children:[(0,r.jsx)(i.Zr,{onClick:()=>u(!1),className:"rounded-full w-full",children:"Cancel"}),(0,r.jsx)(i.Rx,{onClick:S,className:"rounded-full w-full",children:"delete"===p?"Delete":"edit"===p?"Save Changes":"Create"})]})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[206,951,651,410,164,441,517,358],()=>t(366)),_N_E=e.O()}]);